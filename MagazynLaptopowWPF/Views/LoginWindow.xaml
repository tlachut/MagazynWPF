<mah:MetroWindow x:Class="MagazynLaptopowWPF.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MagazynLaptopowWPF.Views"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:viewModels="clr-namespace:MagazynLaptopowWPF.ViewModels"
        mc:Ignorable="d"
        Title="Logowanie - Magazyn Laptopów" Height="350" Width="500"
        WindowStartupLocation="CenterScreen"
        ShowTitleBar="True" ShowCloseButton="True" ShowMinButton="False" ShowMaxRestoreButton="False"
        GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
        BorderThickness="1" BorderBrush="{DynamicResource MahApps.Brushes.Accent}"
        Loaded="LoginWindow_Loaded"
        Closing="LoginWindow_Closing">

	<!-- DataContext dla ViewModelu -->
	<mah:MetroWindow.DataContext>
		<viewModels:LoginViewModel/>
	</mah:MetroWindow.DataContext>

	<Grid Margin="20">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<TextBlock Grid.Row="0" Text="Logowanie za pomocą karty"
                   FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20"/>

		<StackPanel Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center">
			<!-- Ikona stanu czytnika/karty -->
			<iconPacks:PackIconMaterial Kind="{Binding StatusIconKind}"
                                        Width="80" Height="80"
                                        Foreground="{Binding StatusIconColor}"
                                        HorizontalAlignment="Center" Margin="0,0,0,15"/>

			<!-- Komunikat statusu -->
			<TextBlock Text="{Binding StatusMessage}" FontSize="16" FontWeight="SemiBold"
                       TextWrapping="Wrap" TextAlignment="Center" MinHeight="50"/>

			<!-- Wskaźnik zajętości (np. podczas sprawdzania karty) -->
			<mah:ProgressRing IsActive="{Binding IsBusy}" Width="30" Height="30"
							 Foreground="{DynamicResource MahApps.Brushes.Accent}" Margin="0,15,0,0"/>

		</StackPanel>

		<StatusBar Grid.Row="2" VerticalAlignment="Bottom" Background="Transparent">
			<StatusBarItem>
				<TextBlock Text="{Binding ReaderStatusText}" Foreground="{DynamicResource MahApps.Brushes.Gray3}"/>
			</StatusBarItem>
		</StatusBar>
	</Grid>
</mah:MetroWindow>